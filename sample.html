<body>
  <div id="container"></div>

  <script>
    const parent = document.body; // or a specific container

    const observer = new MutationObserver((mutations) => {
      mutations.forEach(mutation => {
        mutation.addedNodes.forEach(node => {
          if (node.id === "myDiv") {
            console.log("#myDiv was added:", node);
          }
        });

        mutation.removedNodes.forEach(node => {
          if (node.id === "myDiv") {
            console.log("#myDiv was removed:", node);
          }
        });
      });
    });

    observer.observe(parent, { childList: true, subtree: true });

    // Test: add and remove myDiv
    setTimeout(() => {
      const el = document.createElement("div");
      el.id = "myDiv";
      el.textContent = "Hello, I am myDiv!";
      document.body.appendChild(el);
    }, 2000);

    setTimeout(() => {
      const el = document.getElementById("myDiv");
      if (el) el.remove();
    }, 5000);
  </script>
  <script>
    window.difyChatbotConfig = {
      token: 'wDsHipcwOMFIOyME',
      baseUrl: 'http://app_dify.izp.me',
      inputs: {
        userJWT: localStorage.getItem("token") || "", 
      },
      userVariables: {
        // avatar_url: 'YOU CAN DEFINE USER AVATAR URL HERE',
        name: JSON.parse(localStorage.getItem("acctInfo")).loginId || "",
      },
    }
  </script>
  <script src="https://app_dify.izp.me/embed.min.js" id="wDsHipcwOMFIOyME" defer>
  </script>
  <style>
    #dify-chatbot-bubble-button {
      background-color: #1C64F2 !important;
    }

    #dify-chatbot-bubble-window {
      width: 24rem !important;
      height: 40rem !important;
    }
  </style>
  
</body>
